<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="x-poe-datastore-behavior" content="local_only">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval' data: blob: https://cdnjs.cloudflare.com https://cdn.jsdelivr.net https://code.jquery.com https://unpkg.com https://d3js.org https://threejs.org https://cdn.plot.ly https://stackpath.bootstrapcdn.com https://maps.googleapis.com https://cdn.tailwindcss.com https://ajax.googleapis.com https://kit.fontawesome.com https://cdn.datatables.net https://maxcdn.bootstrapcdn.com https://code.highcharts.com https://tako-static-assets-production.s3.amazonaws.com https://www.youtube.com https://fonts.googleapis.com https://fonts.gstatic.com https://pfst.cf2.poecdn.net https://puc.poecdn.net https://i.imgur.com https://wikimedia.org https://*.icons8.com https://*.giphy.com https://picsum.photos https://images.unsplash.com https://powo.science.kew.org https://worldfloraonline.org https://www.greening.gov.hk; frame-src 'self' https://www.youtube.com https://trytako.com; child-src 'self'; manifest-src 'self'; worker-src 'self'; upgrade-insecure-requests; block-all-mixed-content;">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tree Species Database - TRAM 10th Version</title>
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/modal.css">
</head>
<body>
    <!-- Main header section with title, subtitle and action buttons -->
    <header class="header">
        <h1>Tree Species Database from Form 1 of TRAM 10th Version</h1>
        <h2>
            <!-- Link to the official TRAM guidelines -->
            <a href="https://www.greening.gov.hk/en/tree-care/tree-risk-assessment-and-management-arrangement/index.html" target="_blank" rel="noopener noreferrer" class="header-link">
                Tree Risk Assessment and Management Arrangement
            </a>
            by Tree Management Office, Hong Kong Government
        </h2>
        <!-- Button to open information modal -->
        <button class="info-button" onclick="openModal()">‚ÑπÔ∏è How this was created</button>
    </header>

    <!-- Modal popup explaining how the website was created -->
    <div id="infoModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>How the Website Was Created (Step‚Äëby‚ÄëStep)</h2>
                <!-- Close button for the modal -->
                <span class="close" onclick="closeModal()">&times;</span>
            </div>
            <div class="modal-body">
                <p>Here's a simple walk‚Äëthrough of the process, written so anyone (not just techies) can follow along.</p>
                
                <h3>Step 1 -- Download the form</h3>
                <p>Go to the Tree Management Office website and download the Form 1 of Tree Risk Assessment:</p>
                <p>üëâ <a href="https://www.greening.gov.hk/filemanager/greening/en/content_20/DEVBTMCP_Form_1_(Sep_2023).xlsm" target="_blank" rel="noopener noreferrer">Form 1 (Excel Macro-Enabled Workbook)</a></p>
                <p>This file is in <strong>Excel <code>.xlsm</code> format</strong>.</p>

                <h3>Step 2 -- Change the file extension</h3>
                <ul>
                    <li>Normally, the file ends in <code>.xlsm</code>.</li>
                    <li>Rename it so the ending is <code>.zip</code>.</li>
                    <li>Example: change <code>Form_1.xlsm</code> ‚Üí <code>Form_1.zip</code>.</li>
                </ul>
                <p>Why? Because Excel files are actually special <strong>zip archives</strong> containing many smaller files inside.</p>

                <h3>Step 3 -- Extract the contents</h3>
                <ul>
                    <li>Unzip (extract) the <code>.zip</code> file into a folder on your computer.</li>
                    <li>Inside, you'll see several subfolders and files.</li>
                </ul>

                <h3>Step 4 -- Find the species data</h3>
                <ul>
                    <li>Open the folder called <strong><code>xl</code></strong>.</li>
                    <li>Inside, look for a file named <strong><code>sharedStrings.xml</code></strong>.</li>
                    <li>Open this file with a text editor (e.g., Notepad).</li>
                </ul>
                <p>This file contains all the words and labels used in the form -- including the <strong>tree species list</strong> with their <strong>scientific names</strong> and <strong>Chinese names</strong>.</p>

                <h3>Step 5 -- Use an AI tool to sort the data</h3>
                <ul>
                    <li>Copy everything from <code>sharedStrings.xml</code>.</li>
                    <li>Paste it into an AI tool like <strong>Claude (on Poe)</strong>.</li>
                    <li>Ask it: <em>"Based on the XML, sort out the tree species names in table form, including scientific name and Chinese name."</em></li>
                </ul>
                <p>The AI will filter out everything else and give you a neat table of species.</p>

                <h3>Step 6 -- Turn the table into a website</h3>
                <p>In follow‚Äëup prompts, the AI was asked to:</p>
                <ol>
                    <li>Clean up the formatting.</li>
                    <li>Add a <strong>search function with fuzzy matching capability</strong> so people can quickly find species even if they may spell the name incorrectly.</li>
                    <li>Separate the website's code into proper files:
                        <ul>
                            <li><strong>HTML</strong> (structure)</li>
                            <li><strong>CSS</strong> (styling)</li>
                            <li><strong>JavaScript</strong> (functions)</li>
                        </ul>
                    </li>
                    <li>Store the species data in a <strong>JSON file</strong> (a web‚Äëfriendly format that's easier to update later).</li>
                </ol>

                <h3>Step 7 -- Enhanced with visual features</h3>
                <p>Additional features were later added to make the database more comprehensive:</p>
                <ol>
                    <li><strong>Species Photography</strong>: High-quality photos were collected for selected tree species, showing different aspects like leaves, bark, flowers, and overall form.</li>
                    <li><strong>Interactive Image Carousel</strong>: A modal popup with navigation controls that allows users to browse through multiple photos of each species.</li>
                    <li><strong>Thumbnail Navigation</strong>: Small preview images at the bottom of the carousel for quick navigation between photos.</li>
                    <li><strong>Photo Filtering</strong>: A toggle option to show only species that have photos available.</li>
                    <li><strong>Statistics Dashboard</strong>: Real-time counters showing total species, currently displayed species, and species with photos.</li>
                    <li><strong>Responsive Design</strong>: The website works seamlessly on desktop, tablet, and mobile devices.</li>
                    <li><strong>Latin29 ID System</strong>: Implemented a unique identifier system for species using Latin29 encoding, replacing species names as folder names for better organization.</li>
                    <li><strong>Expanded Photo Database</strong>: Increased from 10 to 60 species with photos, significantly expanding the visual database.</li>
                    <li><strong>External Database Links</strong>: Integrated links to GBIF (Global Biodiversity Information Facility), POWO (Plants of the World Online), and WFO (World Flora Online) for additional species information.</li>
                    <li><strong>Comprehensive Documentation</strong>: Created detailed technical documentation for developers and maintainers.</li>
                </ol>

                <div class="result-box">
                    <h3>‚úÖ The Enhanced Result</h3>
                    <p>The outcome is a comprehensive, user‚Äëfriendly website where visitors can:</p>
                    <ul>
                        <li>Browse all tree species with real-time statistics.</li>
                        <li>Search by scientific name, Chinese name, alternative names, or Latin29 ID with fuzzy matching capability.</li>
                        <li>Filter to show only species with available photos.</li>
                        <li>View high-quality photos of tree species through an interactive carousel.</li>
                        <li>Navigate through multiple photos per species with thumbnail previews.</li>
                        <li>Access external resources like GBIF (Global Biodiversity Information Facility), POWO (Plants of the World Online), and WFO (World Flora Online) for additional information.</li>
                        <li>Enjoy fast, clean, and easy access to the data on any device.</li>
                        <li>Reference species using the standardized Latin29 ID system for future database expansions.</li>
                    </ul>
                </div>

                <div class="result-box">
                    <h3>üì∏ Photo Credits</h3>
                    <p>All photos are licensed under <strong><a href="https://creativecommons.org/licenses/by-sa/4.0/deed.en" target="_blank" rel="noopener noreferrer">Creative Commons Attribution-ShareAlike 4.0 International License</a></strong> and were carefully selected to show the distinctive features of each tree species. The images help users identify trees by their leaves, bark, flowers, and overall form.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Image Carousel Modal -->
    <div id="carouselModal" class="modal">
        <div class="modal-content carousel-modal">
            <div class="modal-header">
                <div class="carousel-title-container">
                    <h2 id="carouselTitle">Species Images</h2>
                    <div id="carouselChineseName" class="chinese-name-display"></div>
                </div>
                <div class="carousel-header-right">
                    <div class="cc-license" id="ccLicense" data-tooltip="Creative Commons Attribution-ShareAlike 4.0 International License">
                        <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.en" target="_blank" rel="noopener noreferrer">
                            <img src="by-sa.svg" alt="CC BY-SA" class="cc-icon">
                        </a>
                    </div>
                    <span class="close" onclick="closeCarouselModal()">&times;</span>
                </div>
            </div>
            <div class="carousel-container">
                <button class="carousel-button prev" onclick="previousImage()">‚ùÆ</button>
                <div class="carousel-image-container">
                    <img id="carouselImage" src="" alt="Species image" class="carousel-image">
                    <div class="image-counter">
                        <span id="currentImageIndex">1</span> / <span id="totalImages">1</span>
                    </div>
                </div>
                <button class="carousel-button next" onclick="nextImage()">‚ùØ</button>
            </div>
            <div class="carousel-thumbnails" id="carouselThumbnails">
                <!-- Thumbnails will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Main content container -->
    <div class="container">
        <!-- Search input section -->
        <div class="search-container">
            <div class="search-icon">üîç</div>
            <input type="text" class="search-input" id="searchInput" placeholder="Search by scientific name, Chinese name, alternative name, or Latin29 ID..." autocomplete="off">
            <!-- Dropdown suggestions that appear when typing -->
            <div class="suggestions" id="suggestions"></div>
        </div>

        <!-- Statistics cards showing total and filtered counts -->
        <div class="stats">
            <div class="stat-card">
                <div class="stat-number" id="totalCount">0</div>
                <div class="stat-label">Total Species</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="visibleCount">0</div>
                <div class="stat-label">Showing</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="speciesWithPhotosCount">0</div>
                <div class="stat-label">With Photos</div>
            </div>
        </div>

        <!-- Toggle to show only species with photos -->
        <div class="toggle-container">
            <label class="toggle-switch">
                <input type="checkbox" id="photosOnlyToggle">
                <span class="toggle-slider"></span>
            </label>
            <span class="toggle-label">Show only species with photos</span>
        </div>

        <!-- Table container with horizontal scrolling capability -->
        <div class="table-container">
            <!-- Wrapper to enable horizontal scrolling on mobile -->
            <div class="table-wrapper">
                <table id="speciesTable">
                    <thead>
                        <tr>
                            <th style="width: 60px;">No.</th>
                            <th style="width: 25%;">Scientific Name</th>
                            <th style="width: 15%;">Chinese Name</th>
                            <th style="width: 15%;">Alternative Chinese Names</th>
                            <th style="width: 80px;">Latin29 ID</th>
                            <!-- Tooltip explains what GBIF stands for -->
                            <th style="width: 50px;" class="tooltip-header">
                                GBIF
                                <span class="tooltip">Global Biodiversity Information Facility</span>
                            </th>
                            <!-- Tooltip explains what POWO stands for -->
                            <th style="width: 50px;" class="tooltip-header">
                                POWO
                                <span class="tooltip">Plants of the World Online (Royal Botanic Gardens, Kew)</span>
                            </th>
                            <!-- Tooltip explains what WFO stands for -->
                            <th style="width: 50px;" class="tooltip-header">
                                WFO
                                <span class="tooltip">World Flora Online</span>
                            </th>
                        </tr>
                    </thead>
                    <tbody id="tableBody">
                        <!-- Data will be populated by JavaScript -->
                    </tbody>
                </table>
            </div>
            <!-- Message shown when no search results are found -->
            <div class="no-results" id="noResults" style="display: none;">
                <p>No species found matching your search criteria.</p>
            </div>
        </div>

        <!-- Footer attribution -->
        <div class="attribution">
            Generated using LLM with supervision and polishing by 
            <a href="https://benjaminficusmicrocarpa.github.io/" target="_blank" rel="noopener noreferrer">
                benjaminficusmicrocarpa
            </a>
        </div>
        
        <!-- MIT License link -->
        <div class="license-link">
            <a href="../../license.html" target="_blank" rel="noopener noreferrer" style="color: #7f8c8d; text-decoration: none; font-size: 0.9rem; display: inline-block; margin-top: 1rem;">
                üìÑ MIT License
            </a>
        </div>
    </div>

    <!-- Load the JavaScript functionality -->
    <script src="js/config.js"></script>
    <script src="js/fuzzy-search.js"></script>
    <script src="js/main.js"></script>
    <script src="js/search.js"></script>
    <script src="js/carousel.js"></script>
    <script src="js/utils.js"></script>
</body>
</html>
